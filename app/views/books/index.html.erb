<div>
  <div>
    <h1 class="text-center">
      List of all books
    </h1>
  </div>
</div>

<hr>

<div>
  <div>
    <h2 class="text-center">
      Add a new book
    </h2>

    <form action="/insert_book" method="post">
      <div class="input-group mb-3">
        <label class="input-group-text" for="title_box">
          Title
        </label>

        <input class="form-control" type="text" id="title_box" name="query_title">
      </div>

      <div class="input-group mb-3">
        <label class="input-group-text" for="description_box">
          Description
        </label>

        <input class="form-control" type="text" id="description_box" name="query_description">
      </div>

      <div class="input-group mb-3">
        <label class="input-group-text" for="genre_id_box">
          Genre
        </label>

        <select class="form-select" name="query_genre_id">
          <% Genre.all.order(:genre_name).each do |a_genre| %>
            <option value="<%= a_genre.id %>">
            <%= a_genre.genre_name %>
            </option>
          <% end %>
        </select>
      </div>

      <div class="input-group mb-3">
        <label class="input-group-text" for="image_box">
          Image
        </label>

        <input class="form-control" type="text" id="image_box" name="query_image">
      </div>

      <div class="input-group mb-3">
        <label class="input-group-text" for="author_id_box">
          Author
        </label>

        <select class="form-select" name="query_author_id">
          <% Author.all.order(:name).each do |a_author| %>
            <option value="<%= a_author.id %>">
            <%= a_author.name %>
            </option>
          <% end %>
        </select>

      <button class="btn btn-success">
        Create book
      </button>
       </div>
    </form>
  </div>
</div>

<div class="text-center">
  Don't see the author you're looking for? First add a new <a href="/authors">Author</a>.
</div>

<hr>
<div>
  <div>
    <table border-color="black" border="1" cellpadding="20" cellspacing="1" width="100%">
      <tr align="center" valign="middle" width="50%">
        <th align="center" valign="middle" width="50%">
          Cover
        </th>

        <th font-size="16">
          Title
        </th>

        <th>
          Author
        </th>

         <th>
          Genre
        </th>

        <th>
        </th>

        <th>
        </th>
      </tr>

      <% @list_of_books.each do |a_book| %>
      <tr>
        <td align="center" valign="middle">
          <img src=<%= a_book.image %> width="15%" height="15%">
        </td>

        <td align="center" valign="middle">
          <a href="/books/<%= a_book.id %>">
            <%= a_book.title %>
          </a>
        </td>

        <td align="center" valign="middle" width="50%">
          <a href="/authors/<%= a_book.author_id %>">
            <%= Author.where(:id => a_book.author_id).first.name %>
          </a>
        </td>

        <td align="center" valign="middle" width="50%">
          <%= Genre.where(:id => a_book.genre_id).first.genre_name %>
        </td>
      </tr>
      <% end %>
    </table>
  </div>
</div>

<hr>
